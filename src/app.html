<!DOCTYPE html>
<html lang="en">
  <head>
    <title>OCE OAuth2 App for Netlify (POC) | Hola</title>
    <link href="css/styles.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css" rel="stylesheet"> <!-- http://getskeleton.com/ -->
    <style>
      .step {
        display: none;
      }
    </style>
  </head>
  <body>
    <div id="container">
      <h1>OCE OAuth App for Netlify - Implicit & Ticket Authorization (POC)</h1>
      <hr>
      <div id="step-1" class="step">
        <h3>Step 1: Register your OAuth App</h3>
    
        <p>
          Start by going to <a href="https://app.netlify.com/applications" target="_blank">https://app.netlify.com/applications</a>
          and create a new OAuth Application.
        </p>
        <p>
          Make sure you enter <code id="current-url"></code> as the <strong>Redirect URI</strong> for your new app.
        </p>
        <p>
          Once your're done, enter the Client ID of your new application here:
          <form id="client-id-form">
            <input id="client-id" type="text"/>
            <button>Submit</button>
          </form>
        </p>
      </div>
    
      <div id="step-2" class="step">
        <h3>Step 2: Authorize with Netlify</h3>
    
        <p>
          <a id="auth-url" href="#">Click here to authorize with netlify</a>
        </p>
      </div>
    
      <div id="step-3" class="step">
        <h3>Step 3: Make API calls</h3>

        <style>
          .api-form {
            display: block;
          }
          input.api-form {
            min-width: 50rem;
          }
        </style>

        <label>URL</label>
        <input id="api-url" class="api-form" type="text" value="https://api.netlify.com/api/v1/sites" placeholder="URL"/>
        <label>Verb</label>
        <input id="verb" class="api-form" type="text" value="GET" placeholder="Verb"/>
        <label>Body</label>
        <input id="body" class="api-form" type="text" value="{}" placeholder="Body"/>
        <label>Bearer <em>(override)</em></label>
        <input id="bearer" class="api-form" type="password" placeholder="Bearer"/>
        <button id="api-submit" class="api-form">Submit</button>

        <h5>Response status:</h5>
        <style>
          .red {
            color: red;
          }
          .green {
            color: green;
          }
        </style>
        <pre><code id="response" class="green">Loading response status...</code></pre>
        <h5>Response payload:</h5>
        <pre><code id="payload">Loading payload...</code></pre>
        <h5 style="display:none">Hash:</h5>
        <pre style="display:none"><code id="hash"></code></pre>
      </div>      
    </div>
    <hr>
    <p><a href="index.html">Home</a></p>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="js/app.js"></script>
  </body>
</html>
